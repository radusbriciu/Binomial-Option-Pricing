# =============================================================================
# Plain European Binomial Option Pricing
# (on a non-dividend-paying stock)
# =============================================================================

import numpy as np

# =============================================================================
# Input Parameters
# =============================================================================

S0 = 100
r = 0.03
u = 0.2
d = -0.1
T = 2
n = 2
K = 90

# =============================================================================
# Calculated Parameters
# =============================================================================

dt = T/n
qu = (np.exp(r*dt)-np.exp(d*dt))/(np.exp(u*dt)-np.exp(d*dt))
qd = 1-qu

# =============================================================================
# Call
# =============================================================================

C = np.zeros((n+1,1))

for i in range(0,n+1):
    C[i] = qu**i * qd**(n-i) * np.maximum(S0 * np.exp(u*i + d*(n-i)) - K, 0)

C0 = np.exp(-r*T) * np.sum(C)

print(np.round(C0,2))

# =============================================================================
# Put
# =============================================================================

P = np.zeros((n+1,1))

for i in range(0,n+1):
    P[i] = qu**i * qd**(n-i) * np.maximum(K - S0 * np.exp(u*i + d*(n-i)), 0)

P0 = np.exp(-r*T) * np.sum(P)

print(np.round(P0,2))